<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>
Qt Toolkit - qvariant.h include file
</title><style type="text/css"><!--
h3.fn,span.fn { margin-left: 1cm; text-indent: -1cm; }
a:link { color: #004faf; text-decoration: none }
a:visited { color: #672967; text-decoration: none }body { background: white; color: black; }
--></style>
</head><body bgcolor="#ffffff">

<table width="100%">
<tr><td><a href="index.html">
<img width="100" height="100" src="qtlogo.png"
alt="Home" border="0"><img width="100"
height="100" src="face.png" alt="Home" border="0">
</a><td valign=top><div align=right><img src="dochead.png" width="472" height="27"><br>
<a href="classes.html"><b>Classes</b></a>
- <a href="annotated.html">Annotated</a>
- <a href="hierarchy.html">Tree</a>
- <a href="functions.html">Functions</a>
- <a href="index.html">Home</a>
- <a href="topicals.html"><b>Structure</b></a>
</div>
</table>

<h1 align=center>qvariant.h</h1><br clear="all">
This is the verbatim text of the qvariant.h include file.  It is
provided only for illustration; the copyright
remains with Trolltech.
<hr>
<pre>
/****************************************************************************
** &#36;Id&#58; qt/src/kernel/qvariant.h   2.3.2   edited 2001-06-13 $
**
** Definition of QVariant class
**
** Created : 990414
**
** Copyright (C) 1992-2000 Trolltech AS.  All rights reserved.
**
** This file is part of the kernel module of the Qt GUI Toolkit.
**
** This file may be distributed under the terms of the Q Public License
** as defined by Trolltech AS of Norway and appearing in the file
** LICENSE.QPL included in the packaging of this file.
**
** This file may be distributed and/or modified under the terms of the
** GNU General Public License version 2 as published by the Free Software
** Foundation and appearing in the file LICENSE.GPL included in the
** packaging of this file.
**
** Licensees holding valid Qt Enterprise Edition or Qt Professional Edition
** licenses may use this file in accordance with the Qt Commercial License
** Agreement provided with the Software.
**
** This file is provided AS IS with NO WARRANTY OF ANY KIND, INCLUDING THE
** WARRANTY OF DESIGN, MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
**
** See http://www.trolltech.com/pricing.html or email sales@trolltech.com for
**   information about Qt Commercial License Agreements.
** See http://www.trolltech.com/qpl/ for QPL licensing information.
** See http://www.trolltech.com/gpl/ for GPL licensing information.
**
** Contact info@trolltech.com if any conditions of this licensing are
** not clear to you.
**
**********************************************************************/

#ifndef QVARIANT_H
#define QVARIANT_H

#ifndef QT_H
#include "qstring.h"
#endif // QT_H

#ifndef QT_NO_VARIANT

class <a href="qstring.html">QString</a>;
class <a href="qcstring.html">QCString</a>;
class <a href="qfont.html">QFont</a>;
class <a href="qpixmap.html">QPixmap</a>;
class <a href="qbrush.html">QBrush</a>;
class <a href="qrect.html">QRect</a>;
class <a href="qpoint.html">QPoint</a>;
class <a href="qimage.html">QImage</a>;
class <a href="qsize.html">QSize</a>;
class <a href="qcolor.html">QColor</a>;
class <a href="qpalette.html">QPalette</a>;
class <a href="qcolorgroup.html">QColorGroup</a>;
class <a href="qiconset.html">QIconSet</a>;
class <a href="qdatastream.html">QDataStream</a>;
class <a href="qpointarray.html">QPointArray</a>;
class <a href="qregion.html">QRegion</a>;
class <a href="qbitmap.html">QBitmap</a>;
class <a href="qcursor.html">QCursor</a>;
class <a href="qstringlist.html">QStringList</a>;
class <a href="qsizepolicy.html">QSizePolicy</a>;
// Relevant header files rejected after QVariant declaration
// for GCC 2.7.* compatibility
class <a href="qvariant.html">QVariant</a>;
class QVariantPrivate;
template &lt;class T&gt; class QValueList;
template &lt;class T&gt; class QValueListConstIterator;
template &lt;class T&gt; class QValueListNode;
template &lt;class Key, class T&gt; class QMap;
template &lt;class Key, class T&gt; class QMapConstIterator;


class Q_EXPORT <a href="qvariant.html">QVariant</a>
{
public:
    enum Type {
        Invalid,
        Map,
        List,
        String,
        StringList,
        Font,
        Pixmap,
        Brush,
        Rect,
        Size,
        Color,
        Palette,
        ColorGroup,
        IconSet,
        Point,
        Image,
        Int,
        UInt,
        Bool,
        Double,
        CString,
        PointArray,
        Region,
        Bitmap,
        Cursor,
        SizePolicy
    };

    QVariant();
    ~QVariant();
    QVariant( const QVariant&amp; );
    QVariant( QDataStream&amp; s );

    QVariant( const QString&amp; );
    QVariant( const QCString&amp; );
    QVariant( const char* );
    QVariant( const QStringList&amp; );
    QVariant( const QFont&amp; );
    QVariant( const QPixmap&amp; );
    QVariant( const QImage&amp; );
    QVariant( const QBrush&amp; );
    QVariant( const QPoint&amp; );
    QVariant( const QRect&amp; );
    QVariant( const QSize&amp; );
    QVariant( const QColor&amp; );
    QVariant( const QPalette&amp; );
    QVariant( const QColorGroup&amp; );
    QVariant( const QIconSet&amp; );
    QVariant( const QPointArray&amp; );
    QVariant( const QRegion&amp; );
    QVariant( const QBitmap&amp; );
    QVariant( const QCursor&amp; );
    QVariant( const QValueList&lt;QVariant&gt;&amp; );
    QVariant( const QMap&lt;QString,QVariant&gt;&amp; );
    QVariant( int );
    QVariant( uint );
    // ### Problems on some compilers ?
    QVariant( bool, int );
    QVariant( double );
    QVariant( QSizePolicy );

    QVariant&amp; operator= ( const QVariant&amp; );
    bool operator==( const QVariant&amp; ) const;
    bool operator!=( const QVariant&amp; ) const;

    Type type() const;
    const char* typeName() const;

    bool canCast( Type ) const;

    bool isValid() const;

    void clear();

    const QString toString() const;
    const QCString toCString() const;
    const QStringList toStringList() const;
    const QFont toFont() const;
    const QPixmap toPixmap() const;
    const QImage toImage() const;
    const QBrush toBrush() const;
    const QPoint toPoint() const;
    const QRect toRect() const;
    const QSize toSize() const;
    const QColor toColor() const;
    const QPalette toPalette() const;
    const QColorGroup toColorGroup() const;
    const QIconSet toIconSet() const;
    const QPointArray toPointArray() const;
    const QBitmap toBitmap() const;
    const QRegion toRegion() const;
    const QCursor toCursor() const;
    int toInt() const;
    uint toUInt() const;
    bool toBool() const;
    double toDouble() const;
    const QValueList&lt;QVariant&gt; toList() const;
    const QMap&lt;QString,QVariant&gt; toMap() const;
    QSizePolicy toSizePolicy() const;

    QValueListConstIterator&lt;QVariant&gt; listBegin() const;
    QValueListConstIterator&lt;QVariant&gt; listEnd() const;
    QValueListConstIterator&lt;QString&gt; stringListBegin() const;
    QValueListConstIterator&lt;QString&gt; stringListEnd() const;
    QMapConstIterator&lt;QString,QVariant&gt; mapBegin() const;
    QMapConstIterator&lt;QString,QVariant&gt; mapEnd() const;
    QMapConstIterator&lt;QString,QVariant&gt; mapFind( const QString&amp; ) const;

    QString&amp; asString();
    QCString&amp; asCString();
    QStringList&amp; asStringList();
    QFont&amp; asFont();
    QPixmap&amp; asPixmap();
    QImage&amp; asImage();
    QBrush&amp; asBrush();
    QPoint&amp; asPoint();
    QRect&amp; asRect();
    QSize&amp; asSize();
    QColor&amp; asColor();
    QPalette&amp; asPalette();
    QColorGroup&amp; asColorGroup();
    QIconSet&amp; asIconSet();
    QPointArray&amp; asPointArray();
    QBitmap&amp; asBitmap();
    QRegion&amp; asRegion();
    QCursor&amp; asCursor();
    int&amp; asInt();
    uint&amp; asUInt();
    bool&amp; asBool();
    double&amp; asDouble();
    QValueList&lt;QVariant&gt;&amp; asList();
    QMap&lt;QString,QVariant&gt;&amp; asMap();
    QSizePolicy&amp; asSizePolicy();

    void load( QDataStream&amp; );
    void save( QDataStream&amp; ) const;

    static const char* typeToName( Type typ );
    static Type nameToType( const char* name );

private:
    void detach();

    QVariantPrivate* d;
};

class QVariantPrivate : public QShared
{
public:
    QVariantPrivate();
    QVariantPrivate( QVariantPrivate* );
    ~QVariantPrivate();

    void clear();

    QVariant::Type typ;
    union
    {
        uint u;
        int i;
        bool b;
        double d;
        void *ptr;
    } value;
};

// These header files are down here for GCC 2.7.* compatibility
#ifndef QT_H
#include "qvaluelist.h"
#include "qstringlist.h"
#include "qmap.h"
#endif // QT_H

inline QVariant::Type QVariant::type() const
{
    return d-&gt;typ;
}

inline bool QVariant::isValid() const
{
    return (d-&gt;typ != Invalid);
}

inline QValueListConstIterator&lt;QString&gt; QVariant::stringListBegin() const
{
    if ( d-&gt;typ != StringList )
        return QValueListConstIterator&lt;QString&gt;();
    return ((const QStringList*)d-&gt;value.ptr)-&gt;begin();
}

inline QValueListConstIterator&lt;QString&gt; QVariant::stringListEnd() const
{
    if ( d-&gt;typ != StringList )
        return QValueListConstIterator&lt;QString&gt;();
    return ((const QStringList*)d-&gt;value.ptr)-&gt;end();
}

inline QValueListConstIterator&lt;QVariant&gt; QVariant::listBegin() const
{
    if ( d-&gt;typ != List )
        return QValueListConstIterator&lt;QVariant&gt;();
    return ((const QValueList&lt;QVariant&gt;*)d-&gt;value.ptr)-&gt;begin();
}

inline QValueListConstIterator&lt;QVariant&gt; QVariant::listEnd() const
{
    if ( d-&gt;typ != List )
        return QValueListConstIterator&lt;QVariant&gt;();
    return ((const QValueList&lt;QVariant&gt;*)d-&gt;value.ptr)-&gt;end();
}

inline QMapConstIterator&lt;QString,QVariant&gt; QVariant::mapBegin() const
{
    if ( d-&gt;typ != Map )
        return QMapConstIterator&lt;QString,QVariant&gt;();
    return ((const QMap&lt;QString,QVariant&gt;*)d-&gt;value.ptr)-&gt;begin();
}

inline QMapConstIterator&lt;QString,QVariant&gt; QVariant::mapEnd() const
{
    if ( d-&gt;typ != Map )
        return QMapConstIterator&lt;QString,QVariant&gt;();
    return ((const QMap&lt;QString,QVariant&gt;*)d-&gt;value.ptr)-&gt;end();
}

inline QMapConstIterator&lt;QString,QVariant&gt; QVariant::mapFind( const QString&amp; key ) const
{
    if ( d-&gt;typ != Map )
        return QMapConstIterator&lt;QString,QVariant&gt;();
    return ((const QMap&lt;QString,QVariant&gt;*)d-&gt;value.ptr)-&gt;find( key );
}

Q_EXPORT QDataStream&amp; operator&gt;&gt; ( QDataStream&amp; s, QVariant&amp; p );
Q_EXPORT QDataStream&amp; operator&lt;&lt; ( QDataStream&amp; s, const QVariant&amp; p );
Q_EXPORT QDataStream&amp; operator&gt;&gt; ( QDataStream&amp; s, QVariant::Type&amp; p );
Q_EXPORT QDataStream&amp; operator&lt;&lt; ( QDataStream&amp; s, const QVariant::Type p );

#endif // QT_NO_VARIANT

#endif // QVARIANT_H

</pre>
<p><address><hr><div align="center">
<table width="100%" cellspacing="0" border="0"><tr>
<td>Copyright © 2001 Trolltech<td><a href="http://www.trolltech.com/trademarks.html">Trademarks</a>
<td align="right"><div align="right">Qt version 2.3.2</div>
</table></div></address></body></html>
